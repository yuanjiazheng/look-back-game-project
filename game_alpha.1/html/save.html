<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>å­˜æ¡£ç®¡ç†</title>
  <link rel="stylesheet" href="../CSS/save.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ’¾ å­˜æ¡£ç®¡ç†</h1>
    <div id="saves-list"></div>
    <a href="../html/dashboard.html" class="back-btn">â¬… è¿”å›ä¸»ç•Œé¢</a>
  </div>

  <script>
    function loadSaves() {
      const saves = JSON.parse(localStorage.getItem("saves") || "[]");
      const list = document.getElementById("saves-list");
      list.innerHTML = "";

      if (saves.length === 0) {
        list.innerHTML = "<p>æ²¡æœ‰å­˜æ¡£</p>";
        return;
      }

      saves.forEach((save, index) => {
        const div = document.createElement("div");
        div.className = "save-card";
        div.innerHTML = `
          <h2>ç¬¬ ${save.day} å¤©</h2>
          <p>é‡‘å¸ï¼š${save.gold}</p>
          <p>æ—¶é—´ï¼š${new Date(save.timestamp).toLocaleString()}</p>
          <button onclick="loadSave(${index})">è½½å…¥</button>
          <button onclick="deleteSave(${index})">åˆ é™¤</button>
        `;
        list.appendChild(div);
      });
    }

    function loadSave(index) {
      const saves = JSON.parse(localStorage.getItem("saves") || "[]");
      localStorage.setItem("currentSave", JSON.stringify(saves[index]));
      window.location.href = "../html/dashboard.html"; // è·³è½¬å›æ¸¸æˆ
    }

    function deleteSave(index) {
      let saves = JSON.parse(localStorage.getItem("saves") || "[]");
      saves.splice(index, 1);
      localStorage.setItem("saves", JSON.stringify(saves));
      loadSaves();
    }

    loadSaves();
  </script>
</body>
</html>
